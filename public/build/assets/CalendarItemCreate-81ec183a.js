import{T as b,a as m,b as c,d as a,u as e,_ as s,Z as g,e as i,f as l,t as n,j as x,m as w,v as C,F as _,l as k,n as u,k as V,h as I,D,p as y}from"./app-2bcc9048.js";import{_ as S}from"./GoBackNavLink-2bbaee9a.js";import{_ as p}from"./InputLabel-8fa952b5.js";import{_ as $}from"./TextInput-43ff59ef.js";import{_ as f}from"./InputError-7685150a.js";import{P as j}from"./PrimaryButton-f7253fde.js";import{o as T}from"./vue-datepicker-1849adfe.js";/* empty css             */import{_ as B}from"./CalendarTabs-25e16fc8.js";import{_ as E}from"./Notice-1632501c.js";import{_ as M}from"./Card-02b1dfac.js";import{c as N}from"./useCalendarItemTypes-069dd68b.js";import"./_plugin-vue_export-helper-c27b6911.js";const Y={class:"py-8"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"card-header !mb-4"},R={class:"grid grid-cols-2 gap-4"},U={selected:"",value:""},A=["value"],P={class:"grid grid-cols-1 gap-4 mt-4"},z={class:"flex items-center justify-end mt-4"},se={__name:"CalendarItemCreate",props:{types:Array},setup(h){const t=b({date:"",title:"",type:""}),v=()=>{Object.keys(t.date).forEach(function(d){t.date[d]&&!/^\d{4}-\d{2}-\d{2}$/.test(t.date[d])&&(t.date[d]=D(t.date[d]).format("YYYY-MM-DD"))}),t.post(route("calendars.store"),{preserveScroll:!0,onError:()=>{y().error(s("Error Creating Calendar Item"))},onSuccess:()=>{y().success(s("Calendar Item Stored Successfully")),t.reset()}})};return(d,o)=>(m(),c(_,null,[a(e(g),{title:e(s)("Calendar Item Creation")},null,8,["title"]),a(S,null,{tabs:i(()=>[a(B)]),default:i(()=>[l("div",Y,[l("div",q,[a(M,{class:"!mt-0"},{default:i(()=>[l("h1",F,n(e(s)("Create a Calendar Item")),1),l("form",{onSubmit:x(v,["prevent"])},[a(E,{type:"info",bold:e(s)("Holidays Notice:"),class:"mt-0",br:"",text:e(s)("1. Adding a holidays means the day is off, and the attendance on that day will not be considered.")+"<br/>"+e(s)("2. If a holiday overlaps with a weekend, the system will not consider the overlap and count the holiday and the weekend as 2 non-attendable days, not just 1.")},null,8,["bold","text"]),l("div",R,[l("div",null,[a(p,{for:"type_id",value:e(s)("Type")},null,8,["value"]),w(l("select",{id:"manager_id",class:"fancy-selector","onUpdate:modelValue":o[0]||(o[0]=r=>e(t).type=r)},[l("option",U,n(e(s)("Choose a Request Type")),1),(m(!0),c(_,null,k(h.types,r=>(m(),c("option",{key:r.id,value:r},n(e(N)[r]),9,A))),128))],512),[[C,e(t).type]]),a(f,{class:"mt-2",message:e(t).errors.type},null,8,["message"])]),l("div",null,[a(p,{for:"date",value:e(s)("Date (Range selection is available)")},null,8,["value"]),a(e(T),{id:"date",modelValue:e(t).date,"onUpdate:modelValue":o[1]||(o[1]=r=>e(t).date=r),class:u(["py-1 block w-full",{"border border-red-500":e(t).errors.date}]),placeholder:e(s)("Select a Date.."),"enable-time-picker":!1,dark:V("isDark").value,range:"",required:""},null,8,["modelValue","class","placeholder","dark"]),a(f,{class:"mt-2",message:e(t).errors.date},null,8,["message"])])]),l("div",P,[l("div",null,[a(p,{for:"title",value:e(s)("Title")},null,8,["value"]),a($,{id:"title",type:"text",class:u(["mt-1 block w-full",{"border border-red-500":e(t).errors.title}]),modelValue:e(t).title,"onUpdate:modelValue":o[2]||(o[2]=r=>e(t).title=r),autocomplete:"off",placeholder:e(s)("I will be absent for 3 days because I'm sick.")},null,8,["class","modelValue","placeholder"]),a(f,{class:"mt-2",message:e(t).errors.title},null,8,["message"])])]),l("div",z,[a(j,{class:u(["ltr:ml-4 rtl:mr-4",{"opacity-25":e(t).processing}]),disabled:e(t).processing},{default:i(()=>[I(n(e(s)("Initiate Request")),1)]),_:1},8,["class","disabled"])])],32)]),_:1})])])]),_:1})],64))}};export{se as default};
