import{T as S,a as d,b as u,d as s,u as e,_ as t,Z as k,e as m,f as a,t as i,j as p,n as f,m as E,v as C,F as _,l as V,h as g,p as b}from"./app-2bcc9048.js";import{_ as N}from"./GoBackNavLink-2bbaee9a.js";import{_ as T}from"./OrgTabs-d8c498e2.js";import{_ as h}from"./InputLabel-8fa952b5.js";import{_ as $}from"./TextInput-43ff59ef.js";import{_ as v}from"./InputError-7685150a.js";import{P as x}from"./PrimaryButton-f7253fde.js";import{S as y}from"./sweetalert2-50e64164.js";import{_ as j}from"./Card-02b1dfac.js";import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"py-8"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"card-header !mb-4"},O={class:"grid grid-cols-2 gap-4 mt-4"},P={value:"0"},U=["value"],W={class:"flex items-center justify-end mt-4"},K={__name:"DepartmentEdit",props:{department:Object,employees:Object},setup(c){const o=c,r=S({name:o.department.name,manager_id:o.department.manager?o.department.manager.id:"0"}),D=()=>{r.put(route("departments.update",{id:o.department.id}),{preserveScroll:!0,onError:()=>{b().error(t("Error Editing Department"))},onSuccess:()=>{b().success(t("Department Editing Successfully")),r.reset()}})},B=()=>{y.mixin({customClass:{confirmButton:"mx-4 text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",cancelButton:"text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"},buttonsStyling:!1}).fire({title:t("This department has :n employee. Are you sure?",{n:o.employees.length}),text:t("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonText:t("Yes, Delete!"),cancelButtonText:t("No, Cancel!"),reverseButtons:!0}).then(l=>{l.isConfirmed&&r.delete(route("departments.destroy",{id:o.department.id}),{preserveScroll:!0,onSuccess:()=>{y.fire(t("Department Removed!"),"","success")}})})};return(w,l)=>(d(),u(_,null,[s(e(k),{title:e(t)("Department Edit")},null,8,["title"]),s(N,null,{tabs:m(()=>[s(T)]),default:m(()=>[a("div",F,[a("div",M,[s(j,{class:"!mt-0"},{default:m(()=>[a("h1",A,i(e(t)("Edit A Department")),1),a("form",{onSubmit:p(D,["prevent"])},[a("div",O,[a("div",null,[s(h,{for:"department_name",value:e(t)("Department Name")},null,8,["value"]),s($,{id:"department_name",type:"text",class:f(["mt-1 block w-full",{"border border-red-500":e(r).errors.name}]),modelValue:e(r).name,"onUpdate:modelValue":l[0]||(l[0]=n=>e(r).name=n),required:"",autocomplete:"off",placeholder:e(t)("Department Name")},null,8,["class","modelValue","placeholder"]),s(v,{class:"mt-2",message:e(r).errors.name},null,8,["message"])]),a("div",null,[s(h,{for:"manager_id",value:e(t)("Manager")},null,8,["value"]),E(a("select",{id:"manager_id",class:"fancy-selector","onUpdate:modelValue":l[1]||(l[1]=n=>e(r).manager_id=n)},[a("option",P,i(e(t)("Choose an Employee")),1),(d(!0),u(_,null,V(c.employees,n=>(d(),u("option",{key:n.id,value:n.id},i(n.name),9,U))),128))],512),[[C,e(r).manager_id]]),s(v,{class:"mt-2",message:e(r).errors.manager_id},null,8,["message"])])]),a("div",W,[a("form",{onSubmit:p(B,["prevent"]),class:"inline"},[s(x,{class:"bg-red-600 hover:bg-red-700 ml-4"},{default:m(()=>[g(i(e(t)("Delete Department")),1)]),_:1})],32),s(x,{class:f(["ltr:ml-4 rtl:mr-4",{"opacity-25":e(r).processing}]),disabled:e(r).processing},{default:m(()=>[g(i(e(t)("Edit Department")),1)]),_:1},8,["class","disabled"])])],32)]),_:1})])])]),_:1})],64))}};export{K as default};
