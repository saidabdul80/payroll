import{a as g,b as T,f as n,z as I,n as B,T as Y,r as H,c as E,o as Q,d as l,u as e,_ as r,Z,e as t,t as a,h as o,x as J,m as x,y as K,i as R,g as $,F as j,l as X,a9 as U,j as ee,p as le}from"./app-2bcc9048.js";import{_ as te}from"./GoBackNavLink-2bbaee9a.js";import{S as L}from"./sweetalert2-50e64164.js";import{_ as ae}from"./PayrollTabs-121205cd.js";import{_ as w}from"./Card-02b1dfac.js";import{T as _,_ as d}from"./TableRow-0f0462d9.js";import{_ as p}from"./TableBodyHeader-ed87f422.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";import{D as O,_ as h,a as k,b as v}from"./DD-ac9ff713.js";import{_ as y}from"./TextInput-43ff59ef.js";import{_ as C}from"./ToolTip-507831a1.js";import{H as z}from"./HorizontalRule-2d9dec5f.js";import{P as oe}from"./PrimaryButton-f7253fde.js";import{_ as se}from"./InputLabel-8fa952b5.js";import{u as ne}from"./switch-0dd60fac.js";import"./index-7c2e6872.js";const ue={},ie={class:"relative overflow-x-auto mt-4"},de={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},ce={class:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400"};function fe(i,m){return g(),T("div",ie,[n("table",de,[n("thead",ce,[n("tr",null,[I(i.$slots,"Head")])]),n("tbody",null,[I(i.$slots,"Body")])])])}const G=re(ue,[["render",fe]]),V={__name:"InvoiceTableHead",props:{rounded_l:{type:Boolean,default:!1},rounded_r:{type:Boolean,default:!1}},setup(i){return(m,s)=>(g(),T("th",{scope:"col",class:B(["px-6 py-3",{"rounded-l-lg":i.rounded_l,"rounded-r-lg":i.rounded_r}])},[I(m.$slots,"default")],2))}},me={class:"py-8"},_e={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},pe={class:"card-header"},be={class:"card-header"},he={class:"card-header"},ye={class:"card-header"},ge={class:"mt-1"},ke={class:"block"},ve={key:0,class:"mt-2"},we=["checked"],xe={key:0},Ve={class:"card-header"},Fe={class:"inline"},De={class:"card-header"},Ue={class:"inline"},Be={class:"card-header !mb-6"},Te={class:"text-xs"},Pe={class:"mt-4"},Ce=["id"],Se={class:"flex justify-between mb-1"},He={class:"font-bold"},$e={class:"font-thin"},qe={class:"items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg sm:flex dark:bg-gray-700 dark:border-gray-600 dark:text-white"},Ae={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},Ee={class:"flex items-center pl-3"},Ie=["id","onUpdate:modelValue","value"],Me=["for"],Ne={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},Re={class:"flex items-center pl-3"},je=["id","onUpdate:modelValue","value"],Le=["for"],Oe={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},ze={class:"flex items-center pl-3"},Ge=["id","onUpdate:modelValue","value"],We=["for"],Ye={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},Qe={class:"flex items-center pl-3"},Ze=["id","onUpdate:modelValue"],Je=["for"],Ke={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},Xe={class:"flex items-center pl-3"},el=["id","onUpdate:modelValue","value"],ll=["for"],tl={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},al={class:"flex items-center pl-3"},rl=["id","onUpdate:modelValue","value"],ol=["for"],sl={class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},nl={class:"flex items-center pl-3"},ul=["id","onUpdate:modelValue","value"],il=["for"],dl={class:"text-xs mt-1"},cl={class:"card-header !mb-6"},fl={class:"mb-2"},ml={class:"font-medium inline"},_l={class:"mb-2"},pl={class:"font-medium inline"},bl={class:"mb-2"},hl={class:"font-medium inline"},yl={class:"mb-2"},gl={class:"font-medium inline"},kl={class:"mb-2"},vl={class:"font-medium inline"},wl={class:"card-header"},xl={class:"mb-2"},Vl={class:"font-medium inline"},Fl={class:"mb-2"},Dl={class:"font-medium inline"},Ul={class:"!my-4 text-purple-700 dark:text-purple-500 !border-red-500"},Bl={class:"font-medium inline"},Tl={class:"flex justify-end"},Gl={__name:"PayrollReview",props:{payroll:Object,month_stats:Array,additions:Object,deductions:Object,hours:Object,income_tax:Number,shift_modifier:Number,performance_multiplier:Number,metrics:Object},setup(i){const m=i,s=Y({quick_pay:H(!1),quick_pay_send_email:H(!0),rewards:m.additions.rewards,incentives:m.additions.incentives,reimbursements:m.additions.reimbursements,commissions:m.additions.commissions,extra_hour_rate:m.additions.extra_hour_rate,social_security_contributions:m.deductions.social_security_contributions,health_insurance:m.deductions.health_insurance,retirement_plan:m.deductions.retirement_plan,benefits:m.deductions.benefits,union_fees:m.deductions.union_fees,negative_hour_rate:m.deductions.negative_hour_rate,metricsIDs:m.metrics.map(D=>D.id),metrics:Array(m.metrics.length).fill(1),performance_multiplier:H(m.performance_multiplier)}),M=((m.shift_modifier-1)*parseInt(m.payroll.base)).toFixed(2),N=(m.income_tax.income_tax/100*m.payroll.base).toFixed(2),F=m.hours.hoursDifference>0?m.hours.hoursDifference:0,P=m.hours.hoursDifference<0?m.hours.hoursDifference:0,S=E(()=>{if(s.quick_pay)return 1;let D=0;return m.metrics.forEach((u,f)=>{D+=u.weight*(s.metrics[f]-1)}),(1+D).toFixed(2)}),q=E(()=>s.quick_pay?0:(parseFloat(M)+parseFloat(F*s.extra_hour_rate)+parseFloat(s.rewards)+parseFloat(s.incentives)+parseFloat(s.reimbursements)+parseFloat(s.commissions)).toFixed(2)),A=E(()=>s.quick_pay?0:(parseFloat(N)+parseFloat(s.social_security_contributions)+parseFloat(s.health_insurance)+parseFloat(s.retirement_plan)+parseFloat(s.benefits)+parseFloat(s.union_fees)+parseFloat(Math.abs(P)*s.negative_hour_rate)).toFixed(2));Q(()=>{s.performance_multiplier=H(S.value)});const W=()=>{L.mixin({customClass:{cancelButton:"mx-4 text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",confirmButton:"text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"},buttonsStyling:!1}).fire({title:r("Are you sure You want to confirm this Payroll?"),text:r("Press Cancel to return to payroll reviewing."),icon:"question",showCancelButton:!0,confirmButtonText:r("Confirm"),cancelButtonText:r("Cancel"),reverseButtons:!0}).then(u=>{u.isConfirmed&&s.put(route("payrolls.update",{id:m.payroll.id}),{preserveScroll:!0,onError:()=>{le().error(r("Error Reviewing Payroll"))},onSuccess:()=>{L.fire(r("Payroll Confirmed!"),"","success")}})})};return(D,u)=>(g(),T(j,null,[l(e(Z),{title:e(r)("Payroll Review")},null,8,["title"]),l(te,null,{tabs:t(()=>[l(ae)]),default:t(()=>[n("div",me,[n("div",_e,[l(w,{class:"!mt-0"},{default:t(()=>[n("h1",pe,a(e(r)("Payroll Review")),1)]),_:1}),l(w,null,{default:t(()=>[n("h1",be,a(e(r)("Basic Data")),1),l(O,{class:"!pb-0"},{default:t(()=>[l(h,{colored:""},{default:t(()=>[l(k,null,{default:t(()=>[o(a(e(r)("Payroll ID")),1)]),_:1}),l(v,null,{default:t(()=>[o(a(i.payroll.id),1)]),_:1})]),_:1}),l(h,{colored:""},{default:t(()=>[l(k,null,{default:t(()=>[o(a(e(r)("Issued for Employee")),1)]),_:1}),l(e(J),{href:D.route("employees.show",{id:i.payroll.employee.id})},{default:t(()=>[l(v,null,{default:t(()=>[o(a(i.payroll.employee.name),1)]),_:1})]),_:1},8,["href"])]),_:1}),l(h,null,{default:t(()=>[l(k,null,{default:t(()=>[o(a(e(r)("Base Salary")),1)]),_:1}),l(v,null,{default:t(()=>[o(a(i.payroll.currency+" "+parseInt(i.payroll.base).toLocaleString()),1)]),_:1})]),_:1}),l(h,null,{default:t(()=>[l(k,null,{default:t(()=>[o(a(e(r)("Due Date")),1)]),_:1}),l(v,null,{default:t(()=>[o(a(i.payroll.due_date),1)]),_:1})]),_:1}),l(h,{colored:""},{default:t(()=>[l(k,null,{default:t(()=>[o(a(e(r)("Invoice Currency")),1)]),_:1}),l(v,null,{default:t(()=>[o(a(i.payroll.currency),1)]),_:1})]),_:1}),l(h,{colored:""})]),_:1})]),_:1}),l(w,null,{default:t(()=>[n("h1",he,a(e(r)("Attendance Data")),1),l(O,{class:"!pb-0"},{default:t(()=>[l(h,{colored:""},{default:t(()=>[l(k,null,{default:t(()=>[o(a(e(r)("Attendable Days")),1)]),_:1}),l(v,null,{default:t(()=>[o(a(i.month_stats.attendable_days+" "+e(r)("Day")),1)]),_:1})]),_:1}),l(h,{colored:""},{default:t(()=>[l(k,null,{default:t(()=>[o(a(e(r)("Attended")),1)]),_:1}),l(v,null,{default:t(()=>[o(a(i.month_stats.attended+" "+e(r)("Day")),1)]),_:1})]),_:1}),l(h,null,{default:t(()=>[l(k,null,{default:t(()=>[o(a(e(r)("Attended Late")),1)]),_:1}),l(v,null,{default:t(()=>[o(a(i.month_stats.absented+" "+e(r)("Day")),1)]),_:1})]),_:1}),l(h,null,{default:t(()=>[l(k,null,{default:t(()=>[o(a(e(r)("Absented")),1)]),_:1}),l(v,null,{default:t(()=>[o(a(i.month_stats.late+" "+e(r)("Day")),1)]),_:1})]),_:1}),l(h,{colored:""},{default:t(()=>[l(k,null,{default:t(()=>[o(a(i.hours.hoursDifference>0?e(r)("Extra Hours"):i.hours.hoursDifference<0?e(r)("Negative Hours"):e(r)("Hours")),1)]),_:1}),l(v,null,{default:t(()=>[o(a(i.hours.hoursDifference+" "+e(r)("Hour")),1)]),_:1})]),_:1}),l(h,{colored:""})]),_:1})]),_:1}),l(w,null,{default:t(()=>[n("h1",ye,a(e(r)("Quick Pay?")),1),n("p",ge,a(e(r)("Use this option if you only want to pay the salary without any additions, deductions or evaluations.")),1),n("div",ke,[l(e(ne),{dir:"ltr",modelValue:e(s).quick_pay,"onUpdate:modelValue":u[0]||(u[0]=f=>e(s).quick_pay=f),class:B([e(s).quick_pay?"bg-purple-600":"bg-gray-400","col-span-4 mt-2 relative inline-flex h-6 w-11 items-center rounded-full"])},{default:t(()=>[n("span",{class:B([e(s).quick_pay?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"])]),e(s).quick_pay?(g(),T("div",ve,[l(se,{class:"mt-2 ltr:mr-2 rtl:ml-2 inline"},{default:t(()=>[o(a(e(r)("Send Email to employee with this payroll details after confirming this payroll.")),1)]),_:1}),x(n("input",{id:"checked-checkbox",type:"checkbox","onUpdate:modelValue":u[1]||(u[1]=f=>e(s).quick_pay_send_email=f),checked:e(s).quick_pay_send_email,class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,we),[[K,e(s).quick_pay_send_email]])])):R("",!0)]),_:1}),e(s).quick_pay?R("",!0):(g(),T("div",xe,[l(w,null,{default:t(()=>[n("h1",Ve,[o(a(e(r)("Additions"))+" ",1),l(C,null,{default:t(()=>[o(a(e(r)("The following values are calculated based on the base salary value and currency.")),1)]),_:1})]),l(G,null,{Head:t(()=>[l(V,null,{default:t(()=>[o(a(e(r)("Criteria")),1)]),_:1}),l(V,null,{default:t(()=>[o(a(e(r)("Amount")),1)]),_:1}),l(V,null,{default:t(()=>[o(a(e(r)("Calculation")),1)]),_:1}),l(V,null,{default:t(()=>[o(a(e(r)("Total")),1)]),_:1})]),Body:t(()=>[l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Shift Differentials"))+" ",1),l(C,null,{default:t(()=>[o(a(e(r)("This value is obtained from the current employee's shift multiplier, which is :SD",{SD:i.shift_modifier*100+"%"})),1)]),_:1})]),_:1}),l(d,null,{default:t(()=>[o(a((i.shift_modifier-1)*100+"%"),1)]),_:1}),l(d,null,{default:t(()=>[o(a((i.shift_modifier-1)*100+"% * "+i.payroll.base),1)]),_:1}),l(d,null,{default:t(()=>[o(a(e(M)),1)]),_:1})]),_:1}),l(_,{class:B({"cursor-not-allowed":e(F)<=0})},{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Extra Hours Compensation")),1)]),_:1}),e(F)>0?(g(),$(d,{key:0,class:"!pl-0"},{default:t(()=>[l(y,{id:"rewards",type:"number",class:B(["mt-1 inline",{"cursor-not-allowed":e(F)<=0}]),modelValue:e(s).extra_hour_rate,"onUpdate:modelValue":u[2]||(u[2]=f=>e(s).extra_hour_rate=f),autocomplete:"off",step:"10",min:"0",placeholder:"0",disabled:e(F)<=0},null,8,["modelValue","disabled","class"]),n("span",Fe,a(e(r)("/Hour")),1)]),_:1})):(g(),$(d,{key:1,class:"!pl-0"},{default:t(()=>[o(a(e(r)("There are no extra hours this month.")),1)]),_:1})),l(d,null,{default:t(()=>[o(a(e(F).toFixed(2))+" "+a(e(r)("Hours * :ex_rate /hr",{ex_rate:e(s).extra_hour_rate})),1)]),_:1}),l(d,null,{default:t(()=>[o(a((e(F)*e(s).extra_hour_rate).toFixed(2)),1)]),_:1})]),_:1},8,["class"]),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Rewards")),1)]),_:1}),l(y,{id:"rewards",type:"number",class:"w-full mt-1 block",modelValue:e(s).rewards,"onUpdate:modelValue":u[3]||(u[3]=f=>e(s).rewards=f),autocomplete:"off",step:"10",min:"0",placeholder:"0"},null,8,["modelValue"]),l(d),l(d,null,{default:t(()=>[o(a(e(s).rewards),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Incentives")),1)]),_:1}),l(y,{id:"rewards",type:"number",class:"w-full mt-1 block",modelValue:e(s).incentives,"onUpdate:modelValue":u[4]||(u[4]=f=>e(s).incentives=f),autocomplete:"off",step:"10",min:"0",placeholder:"0"},null,8,["modelValue"]),l(d),l(d,null,{default:t(()=>[o(a(e(s).incentives),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Reimbursements")),1)]),_:1}),l(y,{id:"rewards",type:"number",class:"w-full mt-1 block",modelValue:e(s).reimbursements,"onUpdate:modelValue":u[5]||(u[5]=f=>e(s).reimbursements=f),autocomplete:"off",step:"10",min:"0",placeholder:"0"},null,8,["modelValue"]),l(d),l(d,null,{default:t(()=>[o(a(e(s).reimbursements),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Commissions")),1)]),_:1}),l(y,{id:"rewards",type:"number",class:"w-full mt-1 block",modelValue:e(s).commissions,"onUpdate:modelValue":u[6]||(u[6]=f=>e(s).commissions=f),autocomplete:"off",step:"10",min:"0",placeholder:"0"},null,8,["modelValue"]),l(d),l(d,null,{default:t(()=>[o(a(e(s).commissions),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Total")),1)]),_:1}),l(d),l(d),l(d,null,{default:t(()=>[o(a(q.value),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(w,null,{default:t(()=>[n("h1",De,[o(a(e(r)("Deductions"))+" ",1),l(C,null,{default:t(()=>[o(a(e(r)("The following values are calculated based on the base salary value and currency.")),1)]),_:1})]),l(G,null,{Head:t(()=>[l(V,null,{default:t(()=>[o(a(e(r)("Criteria")),1)]),_:1}),l(V,null,{default:t(()=>[o(a(e(r)("Amount")),1)]),_:1}),l(V,null,{default:t(()=>[o(a(e(r)("Calculation")),1)]),_:1}),l(V,null,{default:t(()=>[o(a(e(r)("Total")),1)]),_:1})]),Body:t(()=>[l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Income Tax"))+" ",1),l(C,null,{default:t(()=>[o(a(e(r)("This Value is obtained from Organization's settings.")),1)]),_:1})]),_:1}),l(d,null,{default:t(()=>[o(a(i.income_tax.income_tax+"%"),1)]),_:1}),l(d,null,{default:t(()=>[o(a(i.income_tax.income_tax+"% * "+i.payroll.base),1)]),_:1}),l(d,null,{default:t(()=>[o(a(e(N)),1)]),_:1})]),_:1}),l(_,{class:B({"cursor-not-allowed":e(P)>=0})},{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Negative Hours Penalty")),1)]),_:1}),e(P)<0?(g(),$(d,{key:0,class:"!pl-0"},{default:t(()=>[l(y,{id:"rewards",type:"number",class:"mt-1 inline",modelValue:e(s).negative_hour_rate,"onUpdate:modelValue":u[7]||(u[7]=f=>e(s).negative_hour_rate=f),autocomplete:"off",step:"10",min:"0",placeholder:"0",disabled:e(P)>=0},null,8,["modelValue","disabled"]),n("span",Ue,a(e(r)("/Hour")),1)]),_:1})):(g(),$(d,{key:1},{default:t(()=>[o(a(e(r)("There are no negative hours this month.")),1)]),_:1})),l(d,null,{default:t(()=>[o(a(Math.abs(e(P)).toFixed(2))+" "+a(e(r)("Hours * :ng_rate /hr",{ng_rate:e(s).negative_hour_rate})),1)]),_:1}),l(d,null,{default:t(()=>[o(a((Math.abs(e(P))*e(s).negative_hour_rate).toFixed(2)),1)]),_:1})]),_:1},8,["class"]),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Social Security Contributions")),1)]),_:1}),l(y,{id:"rewards",type:"number",class:"mt-1 block",modelValue:e(s).social_security_contributions,"onUpdate:modelValue":u[8]||(u[8]=f=>e(s).social_security_contributions=f),autocomplete:"off",step:"10",min:"0",placeholder:"0"},null,8,["modelValue"]),l(d,null,{default:t(()=>u[14]||(u[14]=[o("-")])),_:1}),l(d,null,{default:t(()=>[o(a(e(s).social_security_contributions),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Health Insurance")),1)]),_:1}),l(y,{id:"rewards",type:"number",class:"mt-1 block",modelValue:e(s).health_insurance,"onUpdate:modelValue":u[9]||(u[9]=f=>e(s).health_insurance=f),autocomplete:"off",step:"10",min:"0",placeholder:"0"},null,8,["modelValue"]),l(d,null,{default:t(()=>u[15]||(u[15]=[o("-")])),_:1}),l(d,null,{default:t(()=>[o(a(e(s).health_insurance),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Retirement Plan")),1)]),_:1}),l(y,{id:"rewards",type:"number",class:"mt-1 block",modelValue:e(s).retirement_plan,"onUpdate:modelValue":u[10]||(u[10]=f=>e(s).retirement_plan=f),autocomplete:"off",step:"10",min:"0",placeholder:"0"},null,8,["modelValue"]),l(d,null,{default:t(()=>u[16]||(u[16]=[o("-")])),_:1}),l(d,null,{default:t(()=>[o(a(e(s).retirement_plan),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Benefits")),1)]),_:1}),l(y,{id:"rewards",type:"number",class:"mt-1 block",modelValue:e(s).benefits,"onUpdate:modelValue":u[11]||(u[11]=f=>e(s).benefits=f),autocomplete:"off",step:"10",min:"0",placeholder:"0"},null,8,["modelValue"]),l(d,null,{default:t(()=>u[17]||(u[17]=[o("-")])),_:1}),l(d,null,{default:t(()=>[o(a(e(s).benefits),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Union Fees")),1)]),_:1}),l(y,{id:"rewards",type:"number",class:"mt-1 block",modelValue:e(s).union_fees,"onUpdate:modelValue":u[12]||(u[12]=f=>e(s).union_fees=f),autocomplete:"off",step:"10",min:"0",placeholder:"0"},null,8,["modelValue"]),l(d,null,{default:t(()=>u[18]||(u[18]=[o("-")])),_:1}),l(d,null,{default:t(()=>[o(a(e(s).union_fees),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(p,null,{default:t(()=>[o(a(e(r)("Total")),1)]),_:1}),l(d),l(d),l(d,null,{default:t(()=>[o(a(A.value),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(w,null,{default:t(()=>[n("h1",Be,[o(a(e(r)("Employee Evaluation"))+" ",1),l(C,null,{default:t(()=>[o(a(e(r)("The following matrix will be used to determine the performance multiplier."))+" ",1),u[19]||(u[19]=n("br",null,null,-1)),o(" "+a(e(r)("You can override the multiplier value by entering a value in the input field below.")),1)]),_:1})]),n("h1",null,a(e(r)("Please fill the following evaluation matrix:")),1),n("p",Te,a(e(r)("*Note: Metrics created before the generation of this payroll will not be visible.")),1),n("div",Pe,[(g(!0),T(j,null,X(i.metrics,(f,c)=>(g(),T("div",{key:f.id,id:"metric-list-"+c,class:"mb-4"},[n("div",Se,[n("h2",He,a(f.criteria),1),n("span",$e,"("+a(e(r)("weight"))+": "+a(f.weight)+")",1)]),n("ul",qe,[n("li",Ae,[n("div",Ee,[x(n("input",{id:"ex-poor-radio-"+c,type:"radio","onUpdate:modelValue":b=>e(s).metrics[c]=b,value:1-parseFloat(i.metrics[c].step)*3,class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,8,Ie),[[U,e(s).metrics[c]]]),n("label",{for:"ex-poor-radio-"+c,class:"li-checkbox-label"},a(e(r)("Extremely Poor")),9,Me)])]),n("li",Ne,[n("div",Re,[x(n("input",{id:"v-poor-radio-"+c,type:"radio","onUpdate:modelValue":b=>e(s).metrics[c]=b,value:1-parseFloat(i.metrics[c].step)*2,class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,8,je),[[U,e(s).metrics[c]]]),n("label",{for:"v-poor-radio-"+c,class:"li-checkbox-label"},a(e(r)("Very Poor")),9,Le)])]),n("li",Oe,[n("div",ze,[x(n("input",{id:"poor-radio-"+c,type:"radio","onUpdate:modelValue":b=>e(s).metrics[c]=b,value:1-parseFloat(i.metrics[c].step),class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,8,Ge),[[U,e(s).metrics[c]]]),n("label",{for:"poor-radio-"+c,class:"li-checkbox-label"},a(e(r)("Poor")),9,We)])]),n("li",Ye,[n("div",Qe,[x(n("input",{id:"neutral-radio-"+c,type:"radio","onUpdate:modelValue":b=>e(s).metrics[c]=b,value:1,class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,8,Ze),[[U,e(s).metrics[c]]]),n("label",{for:"neutral-radio-"+c,class:"li-checkbox-label"},a(e(r)("Neutral")),9,Je)])]),n("li",Ke,[n("div",Xe,[x(n("input",{id:"good-radio-"+c,type:"radio","onUpdate:modelValue":b=>e(s).metrics[c]=b,value:1+parseFloat(i.metrics[c].step),class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,8,el),[[U,e(s).metrics[c]]]),n("label",{for:"good-radio-"+c,class:"li-checkbox-label"},a(e(r)("Good")),9,ll)])]),n("li",tl,[n("div",al,[x(n("input",{id:"v-good-radio-"+c,type:"radio","onUpdate:modelValue":b=>e(s).metrics[c]=b,value:1+parseFloat(i.metrics[c].step)*2,class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,8,rl),[[U,e(s).metrics[c]]]),n("label",{for:"v-good-radio-"+c,class:"li-checkbox-label"},a(e(r)("Very Good")),9,ol)])]),n("li",sl,[n("div",nl,[x(n("input",{id:"excellent-radio-"+c,type:"radio","onUpdate:modelValue":b=>e(s).metrics[c]=b,value:1+parseFloat(i.metrics[c].step)*3,class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,8,ul),[[U,e(s).metrics[c]]]),n("label",{for:"excellent-radio-"+c,class:"li-checkbox-label"},a(e(r)("Excellent")),9,il)])])])],8,Ce))),128)),n("p",dl,a(e(r)("Weighted Points"))+": "+a(S.value),1)])]),_:1}),l(w,null,{default:t(()=>[n("h1",cl,[o(a(e(r)("Performance Multiplier"))+" ",1),l(C,null,{default:t(()=>[o(a(e(r)("This value is a percentage that is applied to the base salary. Default value is 1 (no changes).")),1)]),_:1})]),n("div",fl,[n("p",ml,a(e(r)("Based on the evaluation matrix above, the system recommends"))+": ",1),n("span",null,a(S.value),1),o(" "+a(e(r)("as a performance multiplier.")),1)]),l(z),n("div",_l,[n("p",pl,a(e(r)("Base Salary"))+": ",1),n("span",null,a(i.payroll.currency+" "+parseInt(i.payroll.base).toLocaleString()),1)]),n("div",bl,[n("p",hl,a(e(r)("Recommended Performance Multiplier"))+": ",1),n("span",null,a(S.value),1)]),n("div",yl,[n("p",gl,a(e(r)("Your Performance Multiplier"))+": ",1),l(y,{id:"performance_multiplier",type:"number",class:"ml-4 mt-1 inline !p-1",modelValue:e(s).performance_multiplier,"onUpdate:modelValue":u[13]||(u[13]=f=>e(s).performance_multiplier=f),autocomplete:"off",step:"0.1",min:"0",placeholder:"1"},null,8,["modelValue"])]),n("div",kl,[n("p",vl,a(e(r)("Total"))+": ",1),n("span",null,a((i.payroll.base*e(s).performance_multiplier).toLocaleString()),1)])]),_:1})])),l(w,null,{default:t(()=>[n("h1",wl,a(e(r)("Grand Total")),1),n("div",xl,[n("p",Vl,a(e(r)("Formula"))+": ",1),n("span",null,a(e(r)("(Base Salary * Performance Multiplier) + Additions - Deductions")),1)]),n("div",Fl,[n("p",Dl,a(e(r)("Calculation"))+":",1),n("span",null," ("+a(i.payroll.base)+" * "+a(e(s).performance_multiplier)+") + "+a(q.value)+" - "+a(A.value),1)]),l(z),n("div",Ul,[n("p",Bl,a(e(r)("Grand Total"))+": ",1),n("span",null,a(i.payroll.currency+" "+(parseFloat(i.payroll.base)*parseFloat(e(s).performance_multiplier)+parseFloat(q.value)-parseFloat(A.value)).toLocaleString()),1)]),n("div",Tl,[n("form",{onSubmit:ee(W,["prevent"])},[l(oe,{class:B({"opacity-25":e(s).processing}),disabled:e(s).processing},{default:t(()=>[o(a(e(r)("Confirm Payroll")),1)]),_:1},8,["class","disabled"])],32)])]),_:1})])])]),_:1})],64))}};export{Gl as default};
